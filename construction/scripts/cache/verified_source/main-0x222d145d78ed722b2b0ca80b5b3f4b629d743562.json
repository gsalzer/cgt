{"status": "1", "message": "OK", "result": [{"SourceCode": "pragma solidity ^0.4.11;\r\n\r\ncontract ERC20Interface {\r\n\tfunction totalSupply() constant returns (uint supply);\r\n\tfunction balanceOf(address _owner) constant returns (uint balance);\r\n\tfunction transfer(address _to, uint _value) returns (bool success);\r\n\tfunction transferFrom(address _from, address _to, uint _value) returns (bool success);\r\n\tfunction approve(address _spender, uint _value) returns (bool success);\r\n\tfunction allowance(address _owner, address _spender) constant returns (uint remaining);\r\n\tevent Transfer(address indexed _from, address indexed _to, uint _value);\r\n\tevent Approval(address indexed _owner, address indexed _spender, uint _value);\r\n}\r\n\r\ncontract DepositMasterContract {\r\n\taddress myAddress;\r\n\taddress dedeAddress;\r\n\taddress dedeStorageAddress;\r\n\tmapping (address => bool) isOurContract;\r\n\r\n\tevent ContractCreated(address contractAddress);\r\n\tevent Deposited(address indexed contractAddress, address indexed receivingAddress, address indexed token, uint256 value);\r\n\r\n\tmodifier onlyMe() {\r\n\t\trequire(msg.sender == myAddress);\r\n\t\t_;\r\n\t}\r\n\tmodifier onlyDeDe() {\r\n\t\trequire(msg.sender == dedeAddress);\r\n\t\t_;\r\n\t}\r\n\tmodifier onlyAdmins() {\r\n\t\trequire(msg.sender == myAddress || msg.sender == dedeAddress);\r\n\t\t_;\r\n\t}\r\n\r\n\tfunction DepositMasterContract(address _dedeAddress){\r\n\t\tdedeAddress = _dedeAddress;\r\n\t\tdedeStorageAddress = _dedeAddress;\r\n\t\tmyAddress = msg.sender;\r\n\t}\r\n\r\n\tfunction createContract() onlyDeDe {\r\n\t\taddress depositContract = new DepositContract();\r\n\t\tisOurContract[depositContract] = true;\r\n\t\tContractCreated(depositContract);\r\n\t}\r\n\tfunction sweep(address contractAddress, address token, uint256 mininumValue) onlyDeDe {\r\n\t\trequire(isOurContract[contractAddress]);\r\n\t\tuint256 result = DepositContract(contractAddress).sweep(token, dedeStorageAddress, mininumValue);\r\n\t\tif(result > 0){\r\n\t\t\tDeposited(contractAddress, dedeStorageAddress, token, result);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction changeMyAddress(address newMyAddress) onlyMe {\r\n\t\tmyAddress = newMyAddress;\r\n\t}\r\n\tfunction changeDeDeAddress(address newDeDeAddress) onlyAdmins {\r\n\t\tdedeAddress = newDeDeAddress;\r\n\t}\r\n\tfunction changeDeDeStorageAddress(address newDeDeStorageAddress) onlyAdmins {\r\n\t\tdedeStorageAddress = newDeDeStorageAddress;\r\n\t}\r\n}\r\n\r\ncontract DepositContract {\r\n\taddress masterAddress;\r\n\r\n\tmodifier onlyMaster() {\r\n\t\trequire(msg.sender == masterAddress);\r\n\t\t_;\r\n\t}\r\n\r\n\tfunction DepositContract(){\r\n\t\tmasterAddress = msg.sender;\r\n\t}\r\n\r\n\tfunction sweep(address token, address dedeStorageAddress, uint256 mininumValue) onlyMaster returns (uint256) {\r\n\t\tbool success;\r\n\t\tuint256 sendingValue;\r\n\t\tif(token == address(0)){ // ether\r\n\t\t\tsendingValue = this.balance;\r\n\t\t\tif(mininumValue > sendingValue){\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t\tsuccess = dedeStorageAddress.send(this.balance);\r\n\t\t\treturn (success ? sendingValue : 0);\r\n\t\t}\r\n\t\telse{ // token\r\n\t\t\tsendingValue = ERC20Interface(token).balanceOf(this);\r\n\t\t\tif(mininumValue > sendingValue){\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t\tsuccess = ERC20Interface(token).transfer(dedeStorageAddress, sendingValue);\r\n\t\t\treturn (success ? sendingValue : 0);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction () payable {}\r\n}", "ABI": "[{\"constant\":false,\"inputs\":[{\"name\":\"newDeDeAddress\",\"type\":\"address\"}],\"name\":\"changeDeDeAddress\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"newMyAddress\",\"type\":\"address\"}],\"name\":\"changeMyAddress\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"createContract\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"contractAddress\",\"type\":\"address\"},{\"name\":\"token\",\"type\":\"address\"},{\"name\":\"mininumValue\",\"type\":\"uint256\"}],\"name\":\"sweep\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"newDeDeStorageAddress\",\"type\":\"address\"}],\"name\":\"changeDeDeStorageAddress\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"inputs\":[{\"name\":\"_dedeAddress\",\"type\":\"address\"}],\"payable\":false,\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"contractAddress\",\"type\":\"address\"}],\"name\":\"ContractCreated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"contractAddress\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"receivingAddress\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"token\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Deposited\",\"type\":\"event\"}]", "ContractName": "DepositMasterContract", "CompilerVersion": "v0.4.11+commit.68ef5810", "OptimizationUsed": "1", "Runs": "200", "ConstructorArguments": "000000000000000000000000432e6ada6c4730993683520566f7b167da2657af", "Library": "", "SwarmSource": "bzzr://40c09b2963ce25d5545246465321f5e92cf4af128a21d405cc8ddb1cbe6558d1"}]}