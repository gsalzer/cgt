{"status": "1", "message": "OK", "result": [{"SourceCode": "contract ChainSensitive {\r\n    // store the data for long-term usability\r\n    uint256 public afterForkBlockNumber;\r\n    uint256 public afterForkRescueContractBalance;\r\n\r\n    // pre-fork: return 0\r\n    // puritanical: return 1\r\n    // dao-rescue (hard forked): return 2\r\n    function whichChainIsThis() internal returns (uint8) {\r\n        if (block.number >= 1920000) {\r\n            if (afterForkBlockNumber == 0) { // default\r\n                afterForkBlockNumber = block.number;\r\n                afterForkRescueContractBalance = address(0xbf4ed7b27f1d666546e30d74d50d173d20bca754).balance;\r\n            }\r\n            if (afterForkRescueContractBalance < 1000000 ether) {\r\n                return 1; // puritanical chain\r\n            } else {\r\n                return 2; // hard-forked dao-rescue chain\r\n            }\r\n        } else {\r\n            return 0; // pre-fork\r\n        }\r\n    }\r\n\r\n    function() {\r\n        secureSend(msg.sender);\r\n        whichChainIsThis();  // store data if not stored yet\r\n    }\r\n\r\n    function secureSend(address to) internal {\r\n        if (!to.send(msg.value))\r\n            throw;\r\n    }\r\n\r\n    function isThisPreforkVersion() returns (bool) {\r\n        secureSend(msg.sender);\r\n        return whichChainIsThis() == 0;\r\n    }\r\n    \r\n    function isThisPuritanicalVersion() returns (bool) {\r\n        secureSend(msg.sender);\r\n        return whichChainIsThis() == 1;\r\n    }\r\n\r\n    function isThisHardforkedVersion() returns (bool) {\r\n        secureSend(msg.sender);\r\n        return whichChainIsThis() == 2;\r\n    }\r\n\r\n    function transferIfPuritanical(address to) {\r\n        if (whichChainIsThis() == 1) {\r\n            secureSend(to);\r\n        } else {\r\n            secureSend(msg.sender);\r\n        }\r\n    }\r\n\r\n    function transferIfHardForked(address to) {\r\n        if (whichChainIsThis() == 2) {\r\n            secureSend(to);\r\n        } else {\r\n            secureSend(msg.sender);\r\n        }\r\n    }\r\n}", "ABI": "[{\"constant\":true,\"inputs\":[],\"name\":\"afterForkBlockNumber\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"isThisHardforkedVersion\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"to\",\"type\":\"address\"}],\"name\":\"transferIfHardForked\",\"outputs\":[],\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"isThisPuritanicalVersion\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"isThisPreforkVersion\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"to\",\"type\":\"address\"}],\"name\":\"transferIfPuritanical\",\"outputs\":[],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"afterForkRescueContractBalance\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"}]", "ContractName": "ChainSensitive", "CompilerVersion": "v0.3.5-2016-07-01-48238c9", "OptimizationUsed": "1", "Runs": "200", "ConstructorArguments": "", "Library": "", "SwarmSource": ""}]}