{"SourceCode":"contract NiceGuyTax {\r\n    \r\n    // Make a database of investors.\r\n    struct Investor {\r\n      address addr;\r\n    }\r\n    Investor[] public investors;\r\n    \r\n    // Make a database of Nice Guys.\r\n    struct NiceGuy {\r\n      address addr;\r\n    }\r\n    NiceGuy[] public niceGuys;\r\n    \r\n    //Counters. this counts things. A new round begins when investorIndex reaches 10.\r\n    uint public payoutIndex = 0;\r\n    uint public currentNiceGuyIndex = 0;\r\n    uint public investorIndex = 0;\r\n    address public currentNiceGuy;\r\n    \r\n    \r\n    // This makes the deployer of the smartcontract the first Nice Guy.. MUCH NICE!\r\n    // I could only make 10 ETH if people are nice enough to invest in it.\r\n    function NiceGuyTax() {\r\n        currentNiceGuy = msg.sender;\r\n    }\r\n    \r\n    \r\n    //Invest 9 ETH to execute this function.\r\n    function() {\r\n        \r\n        //If your investment is NOT 9 ether, the smartcontract rejects it and you get it back.\r\n        if (msg.value != 9 ether) {\r\n            throw;\r\n        }\r\n        \r\n        //First the current nice guy gets 1 ether.\r\n        //This is called the \"Nice guy tax\"\r\n        currentNiceGuy.send(1 ether);\r\n        \r\n        //If you are investor 1 to 8, you will receive pay-out in the same round.\r\n        if (investorIndex < 8) {\r\n            uint index = investors.length;\r\n            investors.length += 1;\r\n            investors[index].addr = msg.sender;\r\n        }\r\n        \r\n        //If you are investor 9 or 10, you will be put in the Nice Guy database.\r\n        if (investorIndex > 7) {\r\n            uint niceGuyIndex = niceGuys.length;\r\n            niceGuys.length += 1;\r\n            niceGuys[niceGuyIndex].addr = msg.sender;\r\n            //If you are investor 10, the next investor will be the first investor of the next round.\r\n            //the next Nice Guy will be installed and receives the Nice Guy Tax\r\n            if (investorIndex > 8 ) {\r\n                currentNiceGuy = niceGuys[currentNiceGuyIndex].addr;\r\n                currentNiceGuyIndex += 1;\r\n            }\r\n        }\r\n        \r\n        //this counts the investors in each round. If the investorIndex counts to 10, the next round begins.\r\n        if (investorIndex < 9) {\r\n            investorIndex += 1;\r\n        }\r\n        else {\r\n            investorIndex = 0;\r\n        }\r\n        \r\n        //If the contract balance reaches at least 10 ether, the next investor in the pay-out queue in the round gets paid out.\r\n        //The contract balance is ALWAYS ZERO in the beginning of each round.\r\n        while (this.balance > 9 ether) {\r\n            investors[payoutIndex].addr.send(10 ether);\r\n            payoutIndex += 1;\r\n        }\r\n    }\r\n}","ABI":"[{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"niceGuys\",\"outputs\":[{\"name\":\"addr\",\"type\":\"address\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"payoutIndex\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"currentNiceGuyIndex\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"investors\",\"outputs\":[{\"name\":\"addr\",\"type\":\"address\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"currentNiceGuy\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"investorIndex\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"inputs\":[],\"type\":\"constructor\"}]","ContractName":"NiceGuyTax","CompilerVersion":"v0.3.1-2016-04-07-054bc2a","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","LicenseType":"","SwarmSource":""}
