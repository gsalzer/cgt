{"SourceCode":"/* A contract to exchange encrypted messages. Most of the work done on\r\n   the client side. */\r\n\r\ncontract comm_channel {\r\n\t\r\n    address owner;\r\n    \r\n    event content(string datainfo, string senderKey, string recipientKey, uint amount);\r\n    modifier onlyowner { if (msg.sender == owner) _ }\r\n    \r\n    function comm_channel() public { owner = msg.sender; }\r\n    \r\n    ///TODO: remove in release\r\n    function kill() onlyowner { suicide(owner); }\r\n\r\n    function flush() onlyowner {\r\n        owner.send(this.balance);\r\n    }\r\n\r\n    function add(string datainfo, string senderKey, string recipientKey,\r\n                 address resendTo) {\r\n        \r\n        //try to resend money from message to the address\r\n        if(msg.value > 0) {\r\n            if(!resendTo.send(msg.value)) throw;\r\n        }\r\n        \r\n        //write to blockchain\r\n        content(datainfo, senderKey, recipientKey, msg.value);\r\n    }\r\n}","ABI":"[{\"constant\":false,\"inputs\":[],\"name\":\"kill\",\"outputs\":[],\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"flush\",\"outputs\":[],\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"datainfo\",\"type\":\"string\"},{\"name\":\"senderKey\",\"type\":\"string\"},{\"name\":\"recipientKey\",\"type\":\"string\"},{\"name\":\"resendTo\",\"type\":\"address\"}],\"name\":\"add\",\"outputs\":[],\"type\":\"function\"},{\"inputs\":[],\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"datainfo\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"senderKey\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"recipientKey\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"content\",\"type\":\"event\"}]","ContractName":"comm_channel","CompilerVersion":"v0.3.2-2016-05-06-9e36bdd","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","LicenseType":"","SwarmSource":""}
