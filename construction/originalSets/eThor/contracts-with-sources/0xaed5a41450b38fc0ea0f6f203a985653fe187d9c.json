{"SourceCode":"contract RNG {\r\n    mapping (address => uint) nonces;\r\n    uint public last;\r\n    function RNG() { }\r\n    function RandomNumber() returns(uint) {\r\n        return RandomNumberFromSeed(uint(sha3(block.number))^uint(sha3(now))^uint(msg.sender)^uint(tx.origin));\r\n    }\r\n    function RandomNumberFromSeed(uint seed) returns(uint) {\r\n        nonces[msg.sender]++;\r\n        last = seed^(uint(sha3(block.blockhash(block.number),nonces[msg.sender]))*0x000b0007000500030001);\r\n        GeneratedNumber(last);\r\n        return last;\r\n    }\r\n    event GeneratedNumber(uint random_number);\r\n    event RandomNumberGuessed(uint random_number, address guesser);\r\n    function Guess(uint _guess) returns (bool) {\r\n        if (RandomNumber() == _guess) {\r\n            if (!msg.sender.send(this.balance)) throw;\r\n            RandomNumberGuessed(_guess, msg.sender);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n}","ABI":"[{\"constant\":true,\"inputs\":[],\"name\":\"last\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_guess\",\"type\":\"uint256\"}],\"name\":\"Guess\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"seed\",\"type\":\"uint256\"}],\"name\":\"RandomNumberFromSeed\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"RandomNumber\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"inputs\":[],\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"random_number\",\"type\":\"uint256\"}],\"name\":\"GeneratedNumber\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"random_number\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"guesser\",\"type\":\"address\"}],\"name\":\"RandomNumberGuessed\",\"type\":\"event\"}]","ContractName":"RNG","CompilerVersion":"v0.3.0-2016-03-11-1f9578c","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","LicenseType":"","SwarmSource":""}
