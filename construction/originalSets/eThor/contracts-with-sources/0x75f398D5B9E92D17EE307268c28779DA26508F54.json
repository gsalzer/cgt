{"SourceCode":"contract Token {\r\n    event Transfer(address indexed from, address indexed to, uint256 value);\r\n    function transfer(address _to, uint256 _value);\r\n    function balanceOf(address) returns (uint256);\r\n}\r\n\r\ncontract owned {\r\n    address public owner;\r\n\r\n    function owned() {\r\n        owner = msg.sender;\r\n    }\r\n\r\n    modifier onlyOwner {\r\n        if (msg.sender != owner) throw;\r\n        _\r\n    }\r\n\r\n    function transferOwnership(address newOwner) onlyOwner {\r\n        owner = newOwner;\r\n    }\r\n}\r\n\r\ncontract TokenSale is owned {\r\n\r\n\taddress public asset;\r\n\tuint256 public price;\r\n\r\n\tfunction TokenSale()\r\n\t{\r\n\t      asset =  0xE0B7927c4aF23765Cb51314A0E0521A9645F0E2A; // DGD\r\n\t      price = 1030000000; // 1.03 ETH\r\n\t}\r\n\r\n\r\n\tfunction transfer_token(address _token, address _to, uint256 _value)\r\n\tonlyOwner()\r\n\t{\r\n\t\tToken(_token).transfer(_to,_value);\r\n\t}\r\n\r\n\tfunction transfer_eth(address _to, uint256 _value)\r\n\tonlyOwner()\r\n\t{\r\n\t\tif(this.balance >= _value) {\r\n                    _to.send(_value);\r\n                }\r\n\t}\r\n\r\n   \tfunction () {\r\n\r\n\t\tuint order   = msg.value / price;\r\n\r\n\t\tif(order == 0) throw;\r\n\t\t\r\n\t\tuint256 balance = Token(asset).balanceOf(address(this));\r\n\r\n\t\tif(balance == 0) throw;\r\n\r\n\t\tif(order > balance )\r\n\t\t{\r\n\t\t    order = balance;\r\n\t\t    uint256 change = msg.value - order * price;\r\n\t\t    msg.sender.send(change);\r\n\t\t}\r\n\r\n\t\tToken(asset).transfer(msg.sender,order);\r\n    \t}\r\n}","ABI":"[{\"constant\":true,\"inputs\":[],\"name\":\"asset\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"transfer_eth\",\"outputs\":[],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"price\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_token\",\"type\":\"address\"},{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"transfer_token\",\"outputs\":[],\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"type\":\"function\"},{\"inputs\":[],\"type\":\"constructor\"}]","ContractName":"TokenSale","CompilerVersion":"v0.3.5-2016-07-21-6610add","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","LicenseType":"","SwarmSource":""}
