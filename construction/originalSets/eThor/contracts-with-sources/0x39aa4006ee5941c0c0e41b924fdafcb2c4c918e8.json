{"SourceCode":"contract Soleau {\r\n\r\n  uint price = 0.001 ether;\r\n  struct Record {\r\n    address holder;\r\n    bool exists; \r\n    uint createdAt; /* Time */ \r\n    uint createdIn; /* Block number */\r\n  }\r\n  mapping (string => Record) _records;\r\n\r\n  function record(string hash) returns (bool success, bool already, uint theBlock) {\r\n    if (msg.value < price) {\r\n      success = false;\r\n      msg.sender.send(msg.value); /* We're nice, we refund */\r\n      return;\r\n    } /* Else we keep the money but there is currently no way to use\r\n\t it: it is locked in the contract for ever */\r\n    if (_records[hash].exists) {\r\n      success = true;\r\n      already = true;\r\n      theBlock = _records[hash].createdIn;\r\n    } else {\r\n      _records[hash].exists = true;\r\n      _records[hash].holder = msg.sender;\r\n      _records[hash].createdAt = now;\r\n      _records[hash].createdIn = block.number;\r\n      success = true;\r\n      already = false;\r\n      theBlock = _records[hash].createdIn;\r\n    }\r\n  }\r\n\r\n  function get(string hash) constant returns (bool success, uint theBlock, uint theTime, address holder) {\r\n    if (_records[hash].exists) {\r\n      success = true;\r\n      theBlock = _records[hash].createdIn;\r\n      theTime = _records[hash].createdAt;\r\n      holder = _records[hash].holder;\r\n    } else {\r\n      success = false;\r\n    }\r\n  }\r\n\r\n  /* No fallback function */\r\n  function () {\r\n    throw;\r\n  }\r\n  \r\n}","ABI":"[{\"constant\":true,\"inputs\":[{\"name\":\"hash\",\"type\":\"string\"}],\"name\":\"get\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"},{\"name\":\"theBlock\",\"type\":\"uint256\"},{\"name\":\"theTime\",\"type\":\"uint256\"},{\"name\":\"holder\",\"type\":\"address\"}],\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"hash\",\"type\":\"string\"}],\"name\":\"record\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"},{\"name\":\"already\",\"type\":\"bool\"},{\"name\":\"theBlock\",\"type\":\"uint256\"}],\"type\":\"function\"}]","ContractName":"Soleau","CompilerVersion":"v0.3.5-2016-06-27-2ccfea8","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","LicenseType":"","SwarmSource":""}
