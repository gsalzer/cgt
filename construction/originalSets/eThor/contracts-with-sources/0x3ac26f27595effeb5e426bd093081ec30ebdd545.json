{"SourceCode":"pragma solidity ^0.4.9;\r\n\r\ncontract owned {\r\n    address public owner;\r\n\r\n    function owned() {\r\n        owner = msg.sender;\r\n    }\r\n\r\n    modifier onlyOwner {\r\n        if (msg.sender != owner) throw;\r\n        _;\r\n    }\r\n}\r\n\r\ncontract BirthdayPuzzle is owned {\r\n    uint balance;\r\n    bool solved = false;\r\n\r\n    function() onlyOwner payable {\r\n        balance += msg.value;\r\n    }\r\n    \r\n    function powerWithModulus(uint256 base, uint256 exponent, uint256 modulus) private\r\n        returns(uint256)\r\n    {\r\n        uint256 result = 1;\r\n\r\n        base %= modulus;\r\n\r\n        while (exponent > 0) {\r\n            if (exponent % 2 == 1) {\r\n                result = (result * base) % modulus;\r\n            }\r\n\r\n            base = (base * base) % modulus;\r\n            exponent /= 2;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    event Solved(\r\n        address solver\r\n    );\r\n\r\n    event UnsuccessfulAttempt(\r\n        address attempter\r\n    );\r\n\r\n    function solvePuzzle(uint256 solution) public\r\n    {\r\n        if (solved) throw;\r\n\r\n        uint256 a = 50540984125924;\r\n        uint256 b = 50540984125915;\r\n        uint256 c = 1981;\r\n        uint256 d = 2017;\r\n        uint256 e;\r\n\r\n        e = powerWithModulus(1234567890, solution, 4 * a + c);\r\n        if (powerWithModulus(e, d, 4 * b + d) == 1234567890) {\r\n            Solved(msg.sender);\r\n            solved = true;\r\n            msg.sender.send(balance);\r\n        } else {\r\n            UnsuccessfulAttempt(msg.sender);\r\n        }\r\n    }\r\n}","ABI":"[{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"solution\",\"type\":\"uint256\"}],\"name\":\"solvePuzzle\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"payable\":true,\"type\":\"fallback\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"solver\",\"type\":\"address\"}],\"name\":\"Solved\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"attempter\",\"type\":\"address\"}],\"name\":\"UnsuccessfulAttempt\",\"type\":\"event\"}]","ContractName":"BirthdayPuzzle","CompilerVersion":"v0.4.9+commit.364da425","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","Library":"","LicenseType":"","SwarmSource":"bzzr://c366c6d2b2d8e94a4cf0410c20ebe213e5000ee633b6896fa4202ebd3c9fdc64"}
