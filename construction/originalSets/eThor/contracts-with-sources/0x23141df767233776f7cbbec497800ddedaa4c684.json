{"SourceCode":"// Simple smart contract that allows anyone to send ether from one address to\r\n// another in certain branch of the blockchain only.  This contract is supposed\r\n// to be used after hard forks to clearly separate \"classic\" ether from \"new\"\r\n// ether.\r\ncontract BranchSender {\r\n  // Is set to true if and only if we are currently in the \"right\" branch of\r\n  // the blockchain, i.e. the branch this contract allows sending money in.\r\n  bool public isRightBranch;\r\n\r\n  // Instantiate the contract.\r\n  //\r\n  // @param blockNumber number of block in the \"right\" blockchain whose hash is\r\n  //        known\r\n  // @param blockHash known hash of the given block in the \"right\" blockchain\r\n  function BranchSender(uint blockNumber, bytes32 blockHash) {\r\n    if (msg.value > 0) throw; // We do not accept any money here\r\n\r\n    isRightBranch = (block.number < 256 || blockNumber > block.number - 256) &&\r\n                    (blockNumber < block.number) &&\r\n                    (block.blockhash (blockNumber) == blockHash);\r\n  }\r\n\r\n  // Default function just throw.\r\n  function () {\r\n    throw;\r\n  }\r\n\r\n  // If we are currently in the \"right\" branch of the blockchain, send money to\r\n  // the given recipient.  Otherwise, throw.\r\n  //\r\n  // @param recipient address to send money to if we are currently in the\r\n  //                  \"right\" branch of the blockchain\r\n  function send (address recipient) {\r\n    if (!isRightBranch) throw;\r\n    if (!recipient.send (msg.value)) throw;\r\n  }\r\n}","ABI":"[{\"constant\":false,\"inputs\":[{\"name\":\"recipient\",\"type\":\"address\"}],\"name\":\"send\",\"outputs\":[],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"isRightBranch\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"type\":\"function\"},{\"inputs\":[{\"name\":\"blockNumber\",\"type\":\"uint256\"},{\"name\":\"blockHash\",\"type\":\"bytes32\"}],\"type\":\"constructor\"}]","ContractName":"BranchSender","CompilerVersion":"v0.3.5-2016-07-01-48238c9","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"00000000000000000000000000000000000000000000000000000000001d4c004985f5ca3d2afbec36529aa96f74de3cc10a2a4a6c44f2157a57d2c6059a11bb","Library":"","LicenseType":"","SwarmSource":""}
