{"SourceCode":"contract owned {\r\n    address public owner;\r\n\r\n    function owned() {\r\n        owner = msg.sender;\r\n    }\r\n\r\n    modifier onlyOwner {\r\n        if (msg.sender != owner) throw;\r\n        _\r\n    }\r\n\r\n    function transferOwnership(address newOwner) onlyOwner {\r\n        owner = newOwner;\r\n    }\r\n}\r\n\r\n\r\n\r\ncontract MeatConversionCalculator is owned {\r\n    uint public amountOfMeatInUnicorn;\r\n    uint public reliabilityPercentage;\r\n\r\n    /* generates a number from 0 to 2^n based on the last n blocks */\r\n    function multiBlockRandomGen(uint seed, uint size) constant returns (uint randomNumber) {\r\n        uint n = 0;\r\n        for (uint i = 0; i < size; i++){\r\n            if (uint(sha3(block.blockhash(block.number-i-1), seed ))%2==0)\r\n                n += 2**i;\r\n        }\r\n        return n;\r\n    }\r\n    \r\n    function MeatConversionCalculator(\r\n        uint averageAmountOfMeatInAUnicorn, \r\n        uint percentOfThatMeatThatAlwaysDeliver\r\n    ) {\r\n        changeMeatParameters(averageAmountOfMeatInAUnicorn, percentOfThatMeatThatAlwaysDeliver);\r\n    }\r\n    function changeMeatParameters(\r\n        uint averageAmountOfMeatInAUnicorn, \r\n        uint percentOfThatMeatThatAlwaysDeliver\r\n    ) onlyOwner {\r\n        amountOfMeatInUnicorn = averageAmountOfMeatInAUnicorn * 1000;\r\n        reliabilityPercentage = percentOfThatMeatThatAlwaysDeliver;\r\n    }\r\n    \r\n    function calculateMeat(uint amountOfUnicorns) constant returns (uint amountOfMeat) {\r\n        uint rnd = multiBlockRandomGen(uint(sha3(block.number, now, amountOfUnicorns)), 10);\r\n\r\n       amountOfMeat = (reliabilityPercentage*amountOfUnicorns*amountOfMeatInUnicorn)/100;\r\n       amountOfMeat += (1024*(100-reliabilityPercentage)*amountOfUnicorns*amountOfMeatInUnicorn)/(rnd*100);\r\n\r\n    }\r\n}","ABI":"[{\"constant\":true,\"inputs\":[],\"name\":\"amountOfMeatInUnicorn\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"reliabilityPercentage\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"seed\",\"type\":\"uint256\"},{\"name\":\"size\",\"type\":\"uint256\"}],\"name\":\"multiBlockRandomGen\",\"outputs\":[{\"name\":\"randomNumber\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"averageAmountOfMeatInAUnicorn\",\"type\":\"uint256\"},{\"name\":\"percentOfThatMeatThatAlwaysDeliver\",\"type\":\"uint256\"}],\"name\":\"changeMeatParameters\",\"outputs\":[],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"amountOfUnicorns\",\"type\":\"uint256\"}],\"name\":\"calculateMeat\",\"outputs\":[{\"name\":\"amountOfMeat\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"type\":\"function\"},{\"inputs\":[{\"name\":\"averageAmountOfMeatInAUnicorn\",\"type\":\"uint256\"},{\"name\":\"percentOfThatMeatThatAlwaysDeliver\",\"type\":\"uint256\"}],\"type\":\"constructor\"}]","ContractName":"MeatConversionCalculator","CompilerVersion":"v0.2.1+commit.91a6b35","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"00000000000000000000000000000000000000000000000000000000000003E8000000000000000000000000000000000000000000000000000000000000005A","Library":"","LicenseType":"","SwarmSource":""}
