{"SourceCode":"//[ETH] Wealth Redistribution Contract\r\n//\r\n//Please keep in mind this contract is for educational and entertainment purposes only and was created to understand the limitations of Ethereum contracts.\r\n//\r\n\r\ncontract WealthRedistributionProject {\r\n\r\n  struct BenefactorArray {\r\n      address etherAddress;\r\n      uint amount;\r\n  }\r\n\r\n  BenefactorArray[] public benefactor;\r\n\r\n  uint public balance = 0;\r\n  uint public totalBalance = 0;\r\n\r\n  function() {\r\n    enter();\r\n  }\r\n  \r\n  function enter() {\r\n    if (msg.value != 1 ether) { //return payment if it's not 1 ETH\r\n        msg.sender.send(msg.value);\r\n        return;\r\n    }\r\n   \r\n    uint transactionAmount;\r\n    uint k = 0;\r\n\r\n    // add a new participant to array\r\n    uint total_inv = benefactor.length;\r\n    benefactor.length += 1;\r\n    benefactor[total_inv].etherAddress = msg.sender;\r\n    benefactor[total_inv].amount = msg.value;\r\n\r\n\tbalance += msg.value;  //keep track of amount available\r\n\r\n   // payment gets distributed to all benefactors based on what % of the total was contributed by them    \r\n    while (k<total_inv) \r\n    { \r\n    \ttransactionAmount = msg.value * benefactor[k].amount / totalBalance;       //Calculate amount to send\r\n\t\tbenefactor[k].etherAddress.send(transactionAmount);    \t\t\t\t\t//Wealth redistribution\r\n\t\tbalance -= transactionAmount;                        \t\t\t\t\t//Keep track of available balance\r\n        k += 1; //LOOP next benefactor\r\n    }\r\n    \r\n\ttotalBalance += msg.value;  //keep track of total amount contributed\r\n    \r\n    \r\n  }\r\n\r\n}","ABI":"[{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"benefactor\",\"outputs\":[{\"name\":\"etherAddress\",\"type\":\"address\"},{\"name\":\"amount\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalBalance\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"balance\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"enter\",\"outputs\":[],\"type\":\"function\"}]","ContractName":"WealthRedistributionProject","CompilerVersion":"v0.3.0-2016-03-30-c2cf806","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","LicenseType":"","SwarmSource":""}
